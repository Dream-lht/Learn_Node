## 一、Npm包管理工具

### 1.初始化项目

1. 使用npm初始化项目

   ~~~js
   npm init  //初始化项目
   ~~~

2. 常见属性

   1. **name**是当前项目的名称
   2. version是当前项目的版本号
   3. description是描述信息，很多时候是作为项目的基本描述
   4. author是项目的作者
   5. license是开源协议(发布项目的时候会使用到)

### 2.package.json

1. 常见属性
   1. main属性：设置项目的入口文件
   2. scripts
      1. 属性用于配置一些脚本命令，以键值对的形式存在
      2. 配置后我们可以通过npm run命令的key来执行命令
      3. npm和 npm run start之间没有区别，对于常用的start，test，stop，restart可以忽略run，之间通过npm start来启动
   3. dependencies属性
      1. dependencies属性是指定无论开发环境还是升船机都需要依赖的包
      2. 通常是我们项目实际开发用到的一些库模块
      3. 与之对应的是devDependencies(开发环境依赖)
   4. devDependencies属性
      1. 一些包在生产环境当中是不需要的，比如webpack，babel等，这个时候，我们通过**npm install wenpack --save-dev**将他安装到devDependencies属性当中
   5. engines属性
      1. engines属性用于指定Node和NPM的版本号，在安装过程当中，会先检查对应的引擎版本，如果不符合就会报错，事实上也可以指定所在地操作系统“OS”：["darwin","linux"],只是很少使用到
   6. borwserslist属性
      1. 用于配置打包后的JavaScript浏览器的兼容情况，参考；否则我们需要手动的添加polyfills来让支持某些语法，也就是说它是为webpack等打包工具服务的一个属性
2. 版本管理的问题
   1. npm的版本管理遵从**semver**规范
   2. semver版本规范**X.Y.Z**
      1. X主版本号:当你做了不兼容API修改(可能不兼容之前的版本)
      2. Y次版本号：当你做了向下兼容的功能性新增(新增功能增加，但是兼容之前的版本)
      3. Z修订号：当你做了向下兼容的问题修正(没有新功能，修复了之前版本的bug)

### NPM 命令

1. 安装npm包分为两种情况

   1. 全局安装(global install)：npm install yarn -g  直接将包安装到全局，比如yarn的安装
   2. 项目局部安装(local install)：npm install

2. 项目安装

   ~~~js
   //安装开发依赖和生产依赖
   npm install axios
   npm i axios
   
   //开发依赖
   npm install axios --save-dev
   npm install axios -D
   npm i axios -D
   ~~~

3. **npm install**原理

   ![01_npminstall原理](D:\Code\Node\4.包管理工具深入解析\image\01_npminstall原理.png)

4. **npm install**原理剖析

   1. 构建依赖关系:构建平面的依赖关系，当有多个库引用同一个包的时候不用下载多次
   2. 检测依赖一致性：检测缓存当中的依赖是否符合package.json当中的依赖关系，不符合就去仓库下载，符合直接使用缓存

5. 卸载某个包

   ~~~js
   npm uninstall package
   npm uninstall package --save-dev
   npm uninstall package -D
   ~~~

6. 强制重新build

   ~~~js
   npm rebuild
   ~~~

7. 清除缓存

   ~~~js
   npm cache clean
   ~~~

8. npx

   1. npx的作用非常多，但是比较常见的是使用它来调用项目单子某个模块的指令

9. 



