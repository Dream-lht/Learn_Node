##  一、脚手架的搭建

### 1.自定义终端命令

1. 初始化项目

~~~js
npm init
~~~

1. 配置命令

   在**package.json**当中配置需要执行的命令

   ~~~~js
   {
     "name": "01_learn_cli",
     "version": "1.0.0",
     "description": "",
     "main": "index.js",
     //新增的配置命令
     "bin": {
       "lht":"index.js"
     },
     "scripts": {
       "test": "echo \"Error: no test specified\" && exit 1"
     },
     "author": "",
     "license": "ISC"
   }
   
   ~~~~

2. 将bin链接到环境变量当中,这样在终端当中可以直接执行我们的命令

   ~~~js
   npm link
   ~~~

3. 查找Node环境

   ~~~js
   #！/usr/bin/env node     //获取系统的node服务，执行命令 固定格式，也可以使用绝对路径，但是不灵活
   ~~~

### 2.自定义指令

1. 自定义指令的时候我们通常使用第三方库**commander**，通过这个库来实现自定义指令

2. 安装

   ~~~js
   npm install commander --save-dev
   ~~~

3. 使用方法

   ~~~js
   #!/usr/bin/env node
   
   // 对commander进行导入
   const program = require('commander');
   
   // 获取版本号
   program.version(require('./package.json').version);
   
   program.parse(process.argv);
   ~~~

4. 增加自己的**options**

   ~~~js
   // 增加自己的options,前面的参数命令，后面是命令描述
   program.Option('-w --why','a why cli');
   
   
   //通过options传参数 <params>
   program.option('-d --desc<desc>','get desc');
   ~~~

5. **help模块拆分**

   1. 一般，我们的库包都放在项目当中lib文件夹下面，脚本命令都在lib/core当中

   2. help模块

      ~~~js
      const program = require('commander');
      
      // 对help命令进行提取
      
      const helpOptions = function(){
          // 增加自己的options
          program.option('-w --why','a why cli');
          program.option('-d --desc<desc>','get desc');
      
          // 监听命令，当终端输入--help的时候，执行下面的代码
          program.on('--help',() => {
              console.log("");
              console.log("Other:");
              console.log("       other optioons");
          })
      } 
      
      // 导出help命令模块
      module.exports = {
          helpOptions
      }
      ~~~

6. 自定义命令

   1. **program.command**:自定义一条命令

      ~~~js
      //创建一条create命令，project是必须要传的参数，【others是可选参数】
      program.command('create <project> [others...]')
      ~~~

   2. **program.descrtption**：对命令添加描述

      ~~~js
       //添加对命令的描述
       program.description('clone project for git')
      ~~~

   3. **program.action**:本条命令所需要执行的操作

      ~~~js
      program.action((project,others) => {
          console.log(project);
      })
      ~~~

7. 